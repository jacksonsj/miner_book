<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R Programming with Minecraft</title>
  <meta name="description" content="The miner R package allows you to interact with Minecraft using the R programming language. This book shows you how to do use it.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R Programming with Minecraft" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="cover_sm.png" />
  <meta property="og:description" content="The miner R package allows you to interact with Minecraft using the R programming language. This book shows you how to do use it." />
  <meta name="github-repo" content="ROpenSciLabs/miner_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R Programming with Minecraft" />
  
  <meta name="twitter:description" content="The miner R package allows you to interact with Minecraft using the R programming language. This book shows you how to do use it." />
  <meta name="twitter:image" content="cover_sm.png" />

<meta name="author" content="Brooke Anderson, Karl Broman, Gergely DarÃ³czi, Mario Inchiosa, David Smith, and Ali Zaidi">


<meta name="date" content="2018-04-03">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="a-stairway-to-heaven.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html"><i class="fa fa-check"></i><b>2</b> Installation and configuration</a><ul>
<li class="chapter" data-level="2.1" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#mac-os-x"><i class="fa fa-check"></i><b>2.1</b> Mac OS X</a></li>
<li class="chapter" data-level="2.2" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#windows"><i class="fa fa-check"></i><b>2.2</b> Windows</a></li>
<li class="chapter" data-level="2.3" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#linux"><i class="fa fa-check"></i><b>2.3</b> Linux</a><ul>
<li class="chapter" data-level="2.3.1" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#install"><i class="fa fa-check"></i><b>2.3.1</b> Install</a></li>
<li class="chapter" data-level="2.3.2" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#connect-with-miner"><i class="fa fa-check"></i><b>2.3.2</b> Connect with miner</a></li>
<li class="chapter" data-level="2.3.3" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#configure"><i class="fa fa-check"></i><b>2.3.3</b> Configure</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#docker"><i class="fa fa-check"></i><b>2.4</b> Docker</a><ul>
<li class="chapter" data-level="2.4.1" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#what-is-docker"><i class="fa fa-check"></i><b>2.4.1</b> What is Docker?</a></li>
<li class="chapter" data-level="2.4.2" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#the-miner-dockerfile"><i class="fa fa-check"></i><b>2.4.2</b> The <code>miner</code> Dockerfile</a></li>
<li class="chapter" data-level="2.4.3" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#building-a-docker-image"><i class="fa fa-check"></i><b>2.4.3</b> Building a Docker image</a></li>
<li class="chapter" data-level="2.4.4" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#running-a-docker-container-from-the-image"><i class="fa fa-check"></i><b>2.4.4</b> Running a Docker container from the image</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="installation-and-configuration.html"><a href="installation-and-configuration.html#raspberry-pi"><i class="fa fa-check"></i><b>2.5</b> Raspberry Pi</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="a-stairway-to-heaven.html"><a href="a-stairway-to-heaven.html"><i class="fa fa-check"></i><b>3</b> A Stairway to Heaven</a><ul>
<li class="chapter" data-level="3.1" data-path="a-stairway-to-heaven.html"><a href="a-stairway-to-heaven.html#building-objects"><i class="fa fa-check"></i><b>3.1</b> Building Objects</a></li>
<li class="chapter" data-level="3.2" data-path="a-stairway-to-heaven.html"><a href="a-stairway-to-heaven.html#stairway-to-heaven"><i class="fa fa-check"></i><b>3.2</b> Stairway to heaven</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="building-a-rainbow.html"><a href="building-a-rainbow.html"><i class="fa fa-check"></i><b>4</b> Building a rainbow</a><ul>
<li class="chapter" data-level="4.1" data-path="building-a-rainbow.html"><a href="building-a-rainbow.html#build-rainbow-with-r-graphics"><i class="fa fa-check"></i><b>4.1</b> Build rainbow with R graphics</a></li>
<li class="chapter" data-level="4.2" data-path="building-a-rainbow.html"><a href="building-a-rainbow.html#minecraft-rainbow"><i class="fa fa-check"></i><b>4.2</b> Minecraft Rainbow</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="building-a-tower-and-jumping-on-type.html"><a href="building-a-tower-and-jumping-on-type.html"><i class="fa fa-check"></i><b>5</b> Building a tower and jumping on type</a><ul>
<li class="chapter" data-level="5.1" data-path="building-a-tower-and-jumping-on-type.html"><a href="building-a-tower-and-jumping-on-type.html#connect-to-a-minecraft-server"><i class="fa fa-check"></i><b>5.1</b> Connect to a Minecraft server</a></li>
<li class="chapter" data-level="5.2" data-path="building-a-tower-and-jumping-on-type.html"><a href="building-a-tower-and-jumping-on-type.html#figure-out-your-player-id"><i class="fa fa-check"></i><b>5.2</b> Figure out your player ID</a></li>
<li class="chapter" data-level="5.3" data-path="building-a-tower-and-jumping-on-type.html"><a href="building-a-tower-and-jumping-on-type.html#figure-out-your-current-position"><i class="fa fa-check"></i><b>5.3</b> Figure out your current position</a></li>
<li class="chapter" data-level="5.4" data-path="building-a-tower-and-jumping-on-type.html"><a href="building-a-tower-and-jumping-on-type.html#build-a-tower"><i class="fa fa-check"></i><b>5.4</b> Build a tower</a></li>
<li class="chapter" data-level="5.5" data-path="building-a-tower-and-jumping-on-type.html"><a href="building-a-tower-and-jumping-on-type.html#jump-on-top-of-the-tower"><i class="fa fa-check"></i><b>5.5</b> Jump on top of the tower</a></li>
<li class="chapter" data-level="5.6" data-path="building-a-tower-and-jumping-on-type.html"><a href="building-a-tower-and-jumping-on-type.html#close-the-connection"><i class="fa fa-check"></i><b>5.6</b> Close the connection</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="planting-a-garden.html"><a href="planting-a-garden.html"><i class="fa fa-check"></i><b>6</b> Planting a garden</a><ul>
<li class="chapter" data-level="6.1" data-path="planting-a-garden.html"><a href="planting-a-garden.html#connect-with-a-minecraft-server"><i class="fa fa-check"></i><b>6.1</b> Connect with a Minecraft server</a></li>
<li class="chapter" data-level="6.2" data-path="planting-a-garden.html"><a href="planting-a-garden.html#create-a-dataframe-with-recent-hits"><i class="fa fa-check"></i><b>6.2</b> Create a dataframe with recent hits</a></li>
<li class="chapter" data-level="6.3" data-path="planting-a-garden.html"><a href="planting-a-garden.html#build-ice-towers"><i class="fa fa-check"></i><b>6.3</b> Build ice towers</a></li>
<li class="chapter" data-level="6.4" data-path="planting-a-garden.html"><a href="planting-a-garden.html#write-a-function-to-do-this-interactively"><i class="fa fa-check"></i><b>6.4</b> Write a function to do this interactively</a></li>
<li class="chapter" data-level="6.5" data-path="planting-a-garden.html"><a href="planting-a-garden.html#close-the-connection-1"><i class="fa fa-check"></i><b>6.5</b> Close the connection</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="number-guess-chat-bot-in-minecraft.html"><a href="number-guess-chat-bot-in-minecraft.html"><i class="fa fa-check"></i><b>7</b> Number-guess chat bot in Minecraft</a><ul>
<li class="chapter" data-level="7.1" data-path="number-guess-chat-bot-in-minecraft.html"><a href="number-guess-chat-bot-in-minecraft.html#background"><i class="fa fa-check"></i><b>7.1</b> Background</a></li>
<li class="chapter" data-level="7.2" data-path="number-guess-chat-bot-in-minecraft.html"><a href="number-guess-chat-bot-in-minecraft.html#init"><i class="fa fa-check"></i><b>7.2</b> Init</a></li>
<li class="chapter" data-level="7.3" data-path="number-guess-chat-bot-in-minecraft.html"><a href="number-guess-chat-bot-in-minecraft.html#loop"><i class="fa fa-check"></i><b>7.3</b> Loop</a></li>
<li class="chapter" data-level="7.4" data-path="number-guess-chat-bot-in-minecraft.html"><a href="number-guess-chat-bot-in-minecraft.html#lets-play"><i class="fa fa-check"></i><b>7.4</b> Letâs Play!</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rendering-an-image-in-minecraft.html"><a href="rendering-an-image-in-minecraft.html"><i class="fa fa-check"></i><b>8</b> Rendering an image in Minecraft</a><ul>
<li class="chapter" data-level="8.1" data-path="rendering-an-image-in-minecraft.html"><a href="rendering-an-image-in-minecraft.html#load-and-prepare-an-image-file"><i class="fa fa-check"></i><b>8.1</b> Load and prepare an image file</a></li>
<li class="chapter" data-level="8.2" data-path="rendering-an-image-in-minecraft.html"><a href="rendering-an-image-in-minecraft.html#render-the-image-in-minecraft"><i class="fa fa-check"></i><b>8.2</b> Render the image in Minecraft</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="rendering-the-r-logo-in-minecraft.html"><a href="rendering-the-r-logo-in-minecraft.html"><i class="fa fa-check"></i><b>9</b> Rendering the R logo in Minecraft</a><ul>
<li class="chapter" data-level="9.1" data-path="rendering-the-r-logo-in-minecraft.html"><a href="rendering-the-r-logo-in-minecraft.html#load-and-prepare-an-image-file-1"><i class="fa fa-check"></i><b>9.1</b> Load and prepare an image file</a></li>
<li class="chapter" data-level="9.2" data-path="rendering-the-r-logo-in-minecraft.html"><a href="rendering-the-r-logo-in-minecraft.html#render-in-minecraft"><i class="fa fa-check"></i><b>9.2</b> Render in Minecraft</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="generate-a-maze-in-minecraft.html"><a href="generate-a-maze-in-minecraft.html"><i class="fa fa-check"></i><b>10</b> Generate a maze in Minecraft</a><ul>
<li class="chapter" data-level="10.1" data-path="generate-a-maze-in-minecraft.html"><a href="generate-a-maze-in-minecraft.html#generate-a-random-maze"><i class="fa fa-check"></i><b>10.1</b> Generate a random maze</a></li>
<li class="chapter" data-level="10.2" data-path="generate-a-maze-in-minecraft.html"><a href="generate-a-maze-in-minecraft.html#transform-maze-graph-into-matrix"><i class="fa fa-check"></i><b>10.2</b> Transform maze graph into matrix</a></li>
<li class="chapter" data-level="10.3" data-path="generate-a-maze-in-minecraft.html"><a href="generate-a-maze-in-minecraft.html#render-the-maze-in-minecraft"><i class="fa fa-check"></i><b>10.3</b> Render the maze in Minecraft</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="random-walks-in-the-minecraft-world.html"><a href="random-walks-in-the-minecraft-world.html"><i class="fa fa-check"></i><b>11</b> Random Walks in the Minecraft World</a><ul>
<li class="chapter" data-level="11.1" data-path="random-walks-in-the-minecraft-world.html"><a href="random-walks-in-the-minecraft-world.html#recurrent-random-walks"><i class="fa fa-check"></i><b>11.1</b> Recurrent Random Walks</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>12</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Programming with Minecraft</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="installation-and-configuration" class="section level1">
<h1><span class="header-section-number">2</span> Installation and configuration</h1>
<p>To use the <a href="https://github.com/ropenscilabs/miner">miner</a> package, youâll need a Minecraft server that is using the <a href="https://dev.bukkit.org/projects/raspberryjuice">RaspberryJuice</a> plugin. You can use <a href="https://www.spigotmc.org">Spigot</a> to set up your own server, even locally on your machine. The installation process doesnât take too long, but it helps to have some <em>command line</em> experience.</p>
<div id="mac-os-x" class="section level2">
<h2><span class="header-section-number">2.1</span> Mac OS X</h2>
<p>Installing stuff on a Mac.</p>
</div>
<div id="windows" class="section level2">
<h2><span class="header-section-number">2.2</span> Windows</h2>
<p>Installing stuff in Windows.</p>
</div>
<div id="linux" class="section level2">
<h2><span class="header-section-number">2.3</span> Linux</h2>
<p>These instructions describe how to set up a Minecraft Server on Linux with the Raspberry Juice plugin. Once installed, you can connect to the server with the Microsoft game and with R via the <a href="https://github.com/ropenscilabs/miner">miner</a> package. If you are new to Minecraft, you will first have to make a one time purchase of a Minecraft license.</p>
<div id="install" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Install</h3>
<p>First, make sure you have installed <a href="https://www.java.com/en/download/help/linux_x64_install.xml">Java</a>. Then make a directory for Minecraft and change into it.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">mkdir</span> ~/minecraft
<span class="bu">cd</span> ~/minecraft</code></pre></div>
<p>Download <code>Buildtools.jar</code> from <a href="https://www.spigotmc.org/wiki/spigot-installation/">Spigot</a>, a popular site for Minecraft server downloads. You will use the Buildtools program to complete the install. Run the <code>jar</code> file. This step will fail to start the server but will successfully create the plugin directory and the EULA.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">wget</span> https://hub.spigotmc.org/jenkins/job/BuildTools/lastSuccessfulBuild/artifact/target/BuildTools.jar
<span class="fu">sudo</span> java -jar BuildTools.jar --rev 1.12
<span class="ex">java</span> -jar -Xms1024M -Xmx2048M spigot-1.12.jar nogui</code></pre></div>
<p>Edit the file <code>eula.txt</code> so that the line <code>eula=false</code> is instead <code>eula=true</code></p>
<p>Start up the server again. This will take a while (because itâs building the world), but not as long as the initial compiling.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">java</span> -jar -Xms1024M -Xmx2048M spigot-1.12.jar nogui</code></pre></div>
<p>Your Minecraft server should now be running. Open your Minecraft game on your desktop and connect to your server IP in multiplayer mode. You can make a player an operator by typing <code>op &lt;playername&gt;</code> into the server prompt. When you are finished playing type <code>stop</code> in the server prompt to stop the server.</p>
</div>
<div id="connect-with-miner" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Connect with miner</h3>
<p>You can use the <a href="https://www.spigotmc.org/resources/raspberryjuice.22724/">RaspberryJuice plugin</a> to connect to your Minecraft Server via the <a href="https://github.com/ropenscilabs/miner">miner</a> package. Download the plugin by visiting <a href="https://www.spigotmc.org/resources/raspberryjuice.22724/">its page</a> and clicking the âDownload Nowâ button in the upper-right. Move this <code>.jar</code> file to the <code>plugins</code> directory.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> wget https://github.com/zhuowei/RaspberryJuice/raw/master/jars/raspberryjuice-1.9.1.jar
<span class="fu">mv</span> raspberryjuice-1.9.1.jar ~/minecraft/plugins</code></pre></div>
<p>Connect to your server from R using <code>mc_connect(&quot;&lt;server-ip&gt;&quot;)</code>. Test your connection by retrieving your playerâs location.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(miner)
<span class="kw">mc_connect</span>(<span class="st">&quot;&lt;server-ip&gt;&quot;</span>)
<span class="kw">getPlayerIds</span>()</code></pre></div>
</div>
<div id="configure" class="section level3">
<h3><span class="header-section-number">2.3.3</span> Configure</h3>
<p>The <code>~/minecraft/server.properties</code> file contains a list of configuration parameters for your Minecraft server. You will probably want to set <code>gamemode=1</code> and <code>force-gamemode=true</code>. If you want to create a superflat world also set <code>level-type=FLAT</code>.</p>
<pre><code>gamemode=1
force-gamemode=true
level-type=FLAT</code></pre>
<p>If you want to run Minecraft in the background, then you can create a simple <code>start.sh</code> script:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/sh</span>
<span class="ex">java</span> -Xms512M -Xmx1G -XX:+UseConcMarkSweepGC -jar spigot-1.12.jar</code></pre></div>
<p>Then make it an executable, and run it with <code>nohup</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">chmod</span> +x start.sh
<span class="fu">nohup</span> ./start.sh</code></pre></div>
<p>If you need to use a different port, use the <code>-p</code> option. (<a href="https://www.spigotmc.org/wiki/start-up-parameters/">See other options</a>.)</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">java</span> -jar -Xms1024M -Xmx2048M spigot-1.12.jar -p25566 nogui</code></pre></div>
<p>If youâre having a hard time connecting, verify that your ports are open. The standard port for Minecraft is <code>25565</code>. The standard port for the <a href="https://github.com/ropenscilabs/miner">miner</a> package is <code>4711</code>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">telnet</span> <span class="op">&lt;</span>server-ip<span class="op">&gt;</span> 25565
<span class="ex">telnet</span> <span class="op">&lt;</span>server-ip<span class="op">&gt;</span> 4711</code></pre></div>
</div>
</div>
<div id="docker" class="section level2">
<h2><span class="header-section-number">2.4</span> Docker</h2>
<div id="what-is-docker" class="section level3">
<h3><span class="header-section-number">2.4.1</span> What is Docker?</h3>
<p>Docker is a program that runs on runs on Linux, OSX or Windows to set up a tiny operating system on your compute, like having a computer in your computer. The advantage of this is that it can save a lot of bother troubleshooting problem relating to the unique configuration details of your computer. With Docker we can set up an isolated operating system on your computer that is already equipped up with a Minecraft server and the various dependencies described above, so we donât have to worry to about installing and configuring each item. Using a Docker container can take a lot of the bother out of a complicated setup like this.</p>
</div>
<div id="the-miner-dockerfile" class="section level3">
<h3><span class="header-section-number">2.4.2</span> The <code>miner</code> Dockerfile</h3>
<p>The <code>miner</code> package includes a Dockerfile, which is a plain text file that gives Docker the recipe for setting up an appropriate container.</p>
<p>This file specifies the following steps that are needed to set up the required environment and run a Spigot Minecraft Server with the RaspberryJuice plug-in:</p>
<ul>
<li>Creates a directory called âminecraftâ for the Minecraft server</li>
<li>Downloads all required files to build a Spigot server (<a href="https://www.spigotmc.org" class="uri">https://www.spigotmc.org</a>) and saves them in the âminecraftâ direction</li>
<li>Builds the Spigot server</li>
<li>Symlink for the built Spigot server?</li>
<li>Accepts the End User License Agreement for Minecraft (âeulaâ) (see <a href="https://account.mojang.com/documents/minecraft_eula">here</a> to see what you are agreeing to with this step)</li>
<li>Downloads the RaspberryJuice plugin (which weâre using for API access) to a subdirectory of the âminecraftâ directory called âpluginsâ</li>
<li>Install the RaspberryJuice plugin</li>
<li>Open up the ports required to access the game (port 25565) and the API (4711)</li>
<li>Start the Minecraft server, [explain options weâre using for that]</li>
</ul>
<p>This Dockerfile is included in the <code>miner</code> package. To find it on your computer once youâve installed the <code>miner</code> package, you can run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.file</span>(<span class="st">&quot;Dockerfile&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;miner&quot;</span>)</code></pre></div>
<p>This call will return the file pathname on your computer for any the file named âDockerfileâ that come with the <code>miner</code> package.</p>
<p>If youâd like to take a look at the Dockerfile, from R you can run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">edit</span>(<span class="kw">system.file</span>(<span class="st">&quot;Dockerfile&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;miner&quot;</span>))</code></pre></div>
<p>This will open the âDockerfileâ file in the <code>miner</code> package in a text editor.</p>
</div>
<div id="building-a-docker-image" class="section level3">
<h3><span class="header-section-number">2.4.3</span> Building a Docker image</h3>
<p>The Dockerfile is a very small plain text file and only gives the recipe for setting up the needed environment and starting a server. To get all the required pieces and be ready to run a container, you need to build a Docker image from this Dockerfile. Once you have installed Docker on your computer (which you can do from <a href="https://www.docker.com">the Docker website</a>), you open a command line (e.g., the Terminal application on MacOS, on Windows use the Docker Quickstart Terminal), move into the directory with the Dockerfile (using <code>cd</code> to change directory), and then build a Docker image based on this Dockerfile by running the following call from a command line:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">docker</span> build -t minecraft .</code></pre></div>
<p>The <code>docker build</code> call is the basic call to build a Docker image from a Dockerfile. The option <code>-t minecraft</code> tells Docker to give the image the tag âminecraftâ. By doing this, you can later refer to this image as âminecraftâ. The <code>.</code> at the end of the call tells Docker to build this image based on the file called âDockerfileâ in the current working direction (<code>.</code>).</p>
<p>Once youâve built the image, you can check to see that itâs in the Docker images on your system by running the following call from a command line:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">docker</span> images</code></pre></div>
<p>You should see something like this:</p>
<pre><code>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
minecraft           latest              2c9e2f2c16d3        3 days ago          1.03 GB
java                latest              d23bdf5b1b1b        4 months ago        643 MB</code></pre>
<p>This tells you which Docker images you have on your system, when they were created, how large they are, and the Image ID. If youâd ever like to remove a Docker image from your system, you can do that with the command line call <code>docker rmi</code> and the image ID. For example, if you ever wanted to remove the âminecraftâ image listed above that you built with the call to <code>docker build</code>, you could run:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">docker</span> rmi 2c9e2f2c16d3</code></pre></div>
</div>
<div id="running-a-docker-container-from-the-image" class="section level3">
<h3><span class="header-section-number">2.4.4</span> Running a Docker container from the image</h3>
<p>Once you have built a Docker image, you can run a container from it. To do that for our Minecraft server, at the command line you should run:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">docker</span> run -ti --rm -p 4711:4711 -p 25565:25565 minecraft </code></pre></div>
<p>The <code>docker run</code> call is the basic call to run a Docker container from a Docker image. The <code>minecraft</code> at the end tells Docker which image to run. The <code>--rm</code> option cleans up everything from this container after youâre done running it. The <code>-ti</code> argument runs the call in the interactive terminal mode. The arguments <code>-p 4711:4711 -p 25565:25565</code> allow the needed access to the ports for the game itself (port 25565) and the API (4711). After you press Enter youâll see messages about server starting up in your console. Now you can open your regular desktop Minecraft application, select âMultiplayerâ, then âDirect Connectâ, then enter the IP number for your Docker container. You can find your Docker container IP number by opening another terminal and running <code>docker-machine IP</code>. After the Minecraft server has started, the Docker terminal will have a prompt like this <code>&gt;</code> where you can enter commands to Minecraft. If you enter <code>op &lt;player&gt;</code> and press Enter in the Docker terminal, then you can grant yourself operator status, and you can run game commands such as changing the gamemode (e.g.Â survival/creative), time, weather, etc. in the Minecraft dekstop app, as usual. If you donât run <code>op &lt;player&gt;</code> in the Docker terminal, you will get messages that you donât have permission if you try to run commands in the desktop app.</p>
</div>
</div>
<div id="raspberry-pi" class="section level2">
<h2><span class="header-section-number">2.5</span> Raspberry Pi</h2>
<p>Installing stuff on a Raspberry Pi.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="a-stairway-to-heaven.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
